// ==UserScript==
// @name         Stock Redirect Button
// @namespace    Violentmonkey Scripts
// @version      1.0
// @description  Adds a button to redirect from Screener.in to Groww.in for the stock being viewed
// @author       dude-with-the-long-username
// @match        https://www.screener.in/company/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=screener.in
// @grant        none
// ==/UserScript==

(function() {
    'use strict';
    // Create a button
    var redirectButton = document.createElement("button");
    // base64 encoded string of image
    const iconUrl = "data:image/png;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxvEAEr3yAGC98wKpu/IA2rvyAPa89AD/vPQA/7vzAPW78gDZvPECqLrvAGC48QASAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuvEAJbvyAp678gD0xf8A/8T/AP/A+QD/vPUA/7vzAP+78wD/vPUA/8D5AP/E/wD/xf8A/7vzAPO79AKevOsAJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAbrxApHF/wD/z/8A/8P9AP+99QD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+99QD/w/0A/8//AP/F/wD/u/ECkv//AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL/3ACC78gDd0/8A/8H7AP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/8H7AP/T/wD/vPMA3bnwACEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC87gAuu/MA/M7/AP+79AD/u/MA/rvzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/rv0AP/O/wD/u/MA/MH0AC0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAte8AH7vyAP3L/wD/u/MA/rvzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP7L/wD/u/MA/LvuAB4AAAAAAAAAAAAAAAAAAAAAAAAAAP//AAG78gDdzv8A/7vzAP678wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP7O/wD/u/IA3AAAAAAAAAAAAAAAAAAAAAAAAAAAs/8AjdP/AP+88wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7v0AP/T/wD/u/ICiwAAAAAAAAAAAAAAAP9SYx/U4hL/uv8A/7r1AP678wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/sL8AP/F/wD/ve8AHwAAAAAAAAAA/15Ymv9uXv/TwR//sv8A/7j4AP+78gD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/8//AP+98gKaAAAAAP9iTg3/aFPy/2Rb//9XXP/iozD/tv4A/7b9AP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/w/0A/7vzAPO27QAO/2ZSWv9tWP//aVP//2RV//9VXv/whkH/ve8G/7T/AP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/uvUA/7r0AP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+99QD/xf8A/7rxAFz/aFOl/2xX//9nU///Z1P//2ZT//9YXP/8bk//yNkS/7L/AP+69gD/u/IA/7vzAP+78wD/u/MA/7vzAP+78wD/u/QA/7f8AP+1/wD/tf8A/7j5AP+78gD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP/E/wD/vPECp/9nU9f/alX//2dT//9nU///Z1P//2dT//9cWf//Xlj/1rwi/7P/AP+4+QD/u/IA/7vzAP+78wD/u/MA/7j6AP+z/wD/x9sP/+mUOP/lnTP/vfAE/7X/AP+78gD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/u/MA/8D5AP+78gDZ/2dT9P9oVP//Z1P//2dT//9nU///Z1P//2hT//9hV///Vl3/5Z0z/7f8AP+2/gD/u/QA/7n3AP+z/wD/vPEF/+OhMf//X1j//1dc//9TX//3d0n/vuwH/7T/AP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/vPUA/7vyAPb/Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2hT//9lVP//VV3/84BE/8DqCf+x/wD/t/wA/9W8Iv/9a1D//1dc//9jVf//Z1P//2dT//9ZW//7b07/wuQL/7P/AP+78wD/u/MA/7vzAP+78wD/u/MA/7vzAP+78wD/vPQA//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Wlr//GxP/+abOP/zgET//1lb//9fV///Z1P//2dT//9nU///Z1P//2dT//9aWv/+aFL/xtwQ/7P/AP+79AD/u/MA/7vzAP+78wD/u/MA/7vzAP+89AD//2dT9f9oVP//Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///YVb//1pa//9eWP//ZlT//2dT//9nU///Z1P//2dT//9nU///Z1P//2hT//9cWf//Y1X/y9MV/7L/AP+69AD/u/MA/7vzAP+78wD/vPUA/7vzAPX/Z1PY/2pV//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2hT//9eWP//Xlj/z8ka/7L/AP+69QD/u/MA/7vzAP/A+QD/vPMA2P9nU6b/bFf//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2hT//9fV///Wlr/1L8g/7L/AP+69gD/vPMA/8T/AP+78wKm/2hUW/9tWP//aFT//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2hT//9hV///WFz/2bQm/7L/AP+7+QD/xv8A/7zxAFv/Yk4N/mdT8/9rVv//Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2hT//9iVv//Vl3/3qks/7v/AP+59wDztu0ADgAAAAD/Z1OZ/3Jc//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2hT//9kVf//VV3/+bcz/7r3BZsAAAAAAAAAAP9mVR7/bFf//2tW//9nU/7/Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2hT/v9pV///ZFz//1paHwAAAAAAAAAAAAAAAP9nU4r/dV7//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//3Ve//9kVIwAAAAAAAAAAAAAAAAAAAAAAAAAAP9mU9v/clz//2dT/v9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT/v9yXP//Z1Pc/wAAAQAAAAAAAAAAAAAAAAAAAAAAAAAA/2pPHf9nU/v/cFr//2dT/v9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU/7/cFr//2dT/P9mVR4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/2hRLP9nU/z/cVv//2dT//9nU/7/Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU/7/Z1P//3Jb//9nU/v5Zk8tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/2hQIP9nU93/dF7//2tW//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///Z1P//2tW//90Xv//Z1Pc/2hQIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAf1oU5H/bFf//3Jc//9rVv//aFT//2dT//9nU///Z1P//2dT//9nU///Z1P//2dT//9nU///aFT//2tW//9yXP//bFf//2dUj/8AAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP9nUyX9Z1Ke/2dT8/9tV///bFf//2pV//9oVP//Z1P//2dT//9oVP//alX//2xX//9tV///Z1Pz/2ZTnf9qVSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/aVoR/2ZTX/9mUqf/Z1PY/2dT9P9nU///Z1P//2dT9f9nU9n9Z1Op/2VSYP9jVRIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=";
    // const spinningUrl = "data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20style='margin:%20auto;%20background:%20rgb(255,%20255,%20255);%20display:%20block;%20shape-rendering:%20auto;'%20width='200px'%20height='200px'%20viewBox='0%200%20100%20100'%20preserveAspectRatio='xMidYMid'%3e%3cg%20transform='rotate(0%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.9166666666666666s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(30%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.8333333333333334s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(60%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.75s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(90%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.6666666666666666s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(120%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.5833333333333334s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(150%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.5s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(180%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.4166666666666667s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(210%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.3333333333333333s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(240%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.25s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(270%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.16666666666666666s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(300%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.08333333333333333s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(330%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='3'%20ry='6'%20width='6'%20height='12'%20fill='%23000000'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='0s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3c!--%20[ldio]%20generated%20by%20https://loading.io/%20--%3e%3c/svg%3e";
    // redirectButton.innerHTML = "Groww";
    redirectButton.title = "Open in Groww";
    redirectButton.style.position = "fixed";
    redirectButton.style.top = "calc(100% - 61.8vh)";
    redirectButton.style.left = "0px";
    redirectButton.style.zIndex = "10000";
    const img = document.createElement("img");
    img.alt = "icon";
    img.src = iconUrl;
    redirectButton.appendChild(img);
    var screenerPath = window.location.href.split("/");
    var stockSymbol = screenerPath[screenerPath.length - 3];  // 3rd last entry in array
    redirectButton.addEventListener ("click", function() {
        window.open("https://groww.in/search?q=" + stockSymbol, "_blank");
    });
    document.body.appendChild(redirectButton);
})();